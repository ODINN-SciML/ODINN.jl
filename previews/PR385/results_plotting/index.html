<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Results and plotting · ODINN.jl</title><meta name="title" content="Results and plotting · ODINN.jl"/><meta property="og:title" content="Results and plotting · ODINN.jl"/><meta property="twitter:title" content="Results and plotting · ODINN.jl"/><meta name="description" content="Documentation for ODINN.jl."/><meta property="og:description" content="Documentation for ODINN.jl."/><meta property="twitter:description" content="Documentation for ODINN.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="ODINN.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">ODINN.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../quick_start/">Quick start</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../forward_simulation/">Forward simulation</a></li><li><a class="tocitem" href="../functional_inversion/">Functional inversion</a></li><li><a class="tocitem" href="../laws/">Laws</a></li></ul></li><li><span class="tocitem">How to use ODINN</span><ul><li><a class="tocitem" href="../parameters/">Parameters</a></li><li><a class="tocitem" href="../glaciers/">Glaciers</a></li><li><a class="tocitem" href="../models/">Models</a></li><li class="is-active"><a class="tocitem" href>Results and plotting</a><ul class="internal"><li><a class="tocitem" href="#Results"><span>Results</span></a></li><li><a class="tocitem" href="#Plots"><span>Plots</span></a></li></ul></li><li><a class="tocitem" href="../api/">API</a></li></ul></li><li><span class="tocitem">Inversions</span><ul><li><a class="tocitem" href="../inversions/">Inversion types</a></li><li><a class="tocitem" href="../optimization/">Optimization</a></li><li><a class="tocitem" href="../sensitivity/">Sensitivity analysis</a></li></ul></li><li><a class="tocitem" href="../contribute/">How to contribute</a></li><li><a class="tocitem" href="../changes_plans/">Ongoing changes and future plans</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">How to use ODINN</a></li><li class="is-active"><a href>Results and plotting</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Results and plotting</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ODINN-SciML/ODINN.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ODINN-SciML/ODINN.jl/blob/main/docs/src/results_plotting.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Results-and-plotting"><a class="docs-heading-anchor" href="#Results-and-plotting">Results and plotting</a><a id="Results-and-plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Results-and-plotting" title="Permalink"></a></h1><h2 id="Results"><a class="docs-heading-anchor" href="#Results">Results</a><a id="Results-1"></a><a class="docs-heading-anchor-permalink" href="#Results" title="Permalink"></a></h2><p>Every <code>Simulation</code> type has an associated <code>Results</code> object(s), one for each one of the glaciers in the simulation. This object, as its name indicates, stores all the results of the simulation, which can be used for data anlysis and plotting. These types are handled by <code>Sleipnir.jl</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Sleipnir.Results" href="#Sleipnir.Results"><code>Sleipnir.Results</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct Results{F &lt;: AbstractFloat, I &lt;: Integer}</code></pre><p>A mutable struct to store the results of simulations.</p><p><strong>Fields</strong></p><ul><li><code>rgi_id::String</code>: Identifier for the RGI (Randolph Glacier Inventory).</li><li><code>H::Vector{Matrix{F}}</code>: Vector of matrices representing glacier ice thickness <code>H</code> over time.</li><li><code>H_glathida::Matrix{F}</code>: Optional matrix for Glathida ice thicknesses.</li><li><code>H_ref::Vector{Matrix{F}}</code>: Reference data for ice thickness.</li><li><code>S::Matrix{F}</code>: Glacier surface altimetry.</li><li><code>B::Matrix{F}</code>: Glacier bedrock.</li><li><code>V::Matrix{F}</code>: Glacier ice surface velocities.</li><li><code>Vx::Matrix{F}</code>: x-component of the glacier ice surface velocity <code>V</code>.</li><li><code>Vy::Matrix{F}</code>: y-component of the glacier ice surface velocity <code>V</code>.</li><li><code>V_ref::Matrix{F}</code>: Reference data for glacier ice surface velocities <code>V</code>.</li><li><code>Vx_ref::Matrix{F}</code>: Reference data for the x-component of the glacier ice surface velocity <code>Vx</code>.</li><li><code>Vy_ref::Matrix{F}</code>: Reference data for the y-component of the glacier ice surface velocity <code>Vy</code>.</li><li><code>date_Vref::Vector{F}</code>: Date of velocity observation (mean of <code>date1</code> and <code>date2</code>).</li><li><code>date1_Vref::Vector{F}</code>: First date of velocity acquisition.</li><li><code>date2_Vref::Vector{F}</code>: Second date of velocity acquisition.</li><li><code>Δx::F</code>: Grid spacing in the x-direction.</li><li><code>Δy::F</code>: Grid spacing in the y-direction.</li><li><code>lon::F</code>: Longitude of the glacier grid center.</li><li><code>lat::F</code>: Latitude of the glacier grid center.</li><li><code>nx::I</code>: Number of grid points in the x-direction.</li><li><code>ny::I</code>: Number of grid points in the y-direction.</li><li><code>tspan::Vector{F}</code>: Time span of the simulation.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ODINN-SciML/Sleipnir.jl/blob/v0.10.6/src/simulations/results/Results.jl#L1-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Sleipnir.Results-Union{Tuple{I}, Tuple{IF}, Tuple{F}, Tuple{G}, Tuple{G, IF}} where {G&lt;:AbstractGlacier, F&lt;:AbstractFloat, IF&lt;:AbstractModel, I&lt;:Integer}" href="#Sleipnir.Results-Union{Tuple{I}, Tuple{IF}, Tuple{F}, Tuple{G}, Tuple{G, IF}} where {G&lt;:AbstractGlacier, F&lt;:AbstractFloat, IF&lt;:AbstractModel, I&lt;:Integer}"><code>Sleipnir.Results</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Results(glacier::G, ifm::IF;
    rgi_id::String = glacier.rgi_id,
    H::Vector{Matrix{F}} = Vector{Matrix{Sleipnir.Float}}([[;;]]),
    H_glathida::Matrix{F} = glacier.H_glathida,
    H_ref::Vector{Matrix{F}} = Vector{Matrix{Sleipnir.Float}}([[;;]]),
    S::Matrix{F} = zeros(Sleipnir.Float, size(ifm.S)),
    B::Matrix{F} = zeros(Sleipnir.Float, size(glacier.B)),
    V::Vector{Matrix{F}} = Vector{Matrix{Sleipnir.Float}}([[;;]]),
    Vx::Vector{Matrix{F}} = Vector{Matrix{Sleipnir.Float}}([[;;]]),
    Vy::Vector{Matrix{F}} = Vector{Matrix{Sleipnir.Float}}([[;;]]),
    V_ref::Vector{Matrix{F}} = Vector{Matrix{Sleipnir.Float}}([[;;]]),
    Vx_ref::Vector{Matrix{F}} = Vector{Matrix{Sleipnir.Float}}([[;;]]),
    Vy_ref::Vector{Matrix{F}} = Vector{Matrix{Sleipnir.Float}}([[;;]]),
    date_Vref::Vector{F} = Vector{Sleipnir.Float}([]),
    date1_Vref::Vector{F} = Vector{Sleipnir.Float}([]),
    date2_Vref::Vector{F} = Vector{Sleipnir.Float}([]),
    Δx::F = glacier.Δx,
    Δy::F = glacier.Δy,
    lon::F = glacier.cenlon,
    lat::F = glacier.cenlat,
    nx::I = glacier.nx,
    ny::I = glacier.ny,
    t::Vector{F} = Vector{Sleipnir.Float}([]),
    tspan::Tuple{F, F} = (NaN, NaN),
) where {G &lt;: AbstractGlacier, F &lt;: AbstractFloat, IF &lt;: AbstractModel, I &lt;: Integer}</code></pre><p>Construct a <code>Results</code> object for a glacier simulation.</p><p><strong>Arguments</strong></p><ul><li><code>glacier::G</code>: The glacier object, subtype of <code>AbstractGlacier</code>.</li><li><code>ifm::IF</code>: The model object, subtype of <code>AbstractModel</code>.</li><li><code>rgi_id::String</code>: The RGI identifier for the glacier. Defaults to <code>glacier.rgi_id</code>.</li><li><code>H::Vector{Matrix{F}}</code>: Ice thickness matrices. Defaults to an empty vector.</li><li><code>H_glathida::Matrix{F}</code>: Ice thickness from GlaThiDa. Defaults to <code>glacier.H_glathida</code>.</li><li><code>H_ref::Vector{Matrix{F}}</code>: Reference ice thickness. Defaults to an empty vector.</li><li><code>S::Matrix{F}</code>: Surface elevation matrix. Defaults to a zero matrix of the same size as <code>ifm.S</code>.</li><li><code>B::Matrix{F}</code>: Bed elevation matrix. Defaults to a zero matrix of the same size as <code>glacier.B</code>.</li><li><code>V::Vector{Matrix{F}}</code>: Velocity magnitude matrix. Defaults to an empty vector.</li><li><code>Vx::Vector{Matrix{F}}</code>: Velocity in the x-direction matrix. Defaults to an empty vector.</li><li><code>Vy::Vector{Matrix{F}}</code>: Velocity in the y-direction matrix. Defaults to an empty vector.</li><li><code>V_ref::Vector{Matrix{F}}</code>: Reference velocity magnitude matrix. Defaults to an empty vector.</li><li><code>Vx_ref::Vector{Matrix{F}}</code>: Reference velocity in the x-direction matrix. Defaults to an empty vector.</li><li><code>Vy_ref::Vector{Matrix{F}}</code>: Reference velocity in the y-direction matrix. Defaults to an empty vector.</li><li><code>date_Vref::Vector{F}</code>: Date of velocity observation (mean of <code>date1</code> and <code>date2</code>). Defaults to an empty vector.</li><li><code>date1_Vref::Vector{F}</code>: First date of velocity acquisition. Defaults to an empty vector.</li><li><code>date2_Vref::Vector{F}</code>: Second date of velocity acquisition. Defaults to an empty vector.</li><li><code>Δx::F</code>: Grid spacing in the x-direction. Defaults to <code>glacier.Δx</code>.</li><li><code>Δy::F</code>: Grid spacing in the y-direction. Defaults to <code>glacier.Δy</code>.</li><li><code>lon::F</code>: Longitude of the glacier grid center. Defaults to <code>glacier.cenlon</code>.</li><li><code>lat::F</code>: Latitude of the glacier grid center. Defaults to <code>glacier.cenlat</code>.</li><li><code>nx::I</code>: Number of grid points in the x-direction. Defaults to <code>glacier.nx</code>.</li><li><code>ny::I</code>: Number of grid points in the y-direction. Defaults to <code>glacier.ny</code>.</li><li><code>tspan::Tuple(F, F)</code>: Timespan of the simulation.</li><li><code>θ::Union{Nothing, ComponentArray{F}}</code>: Model parameters. Defaults to <code>nothing</code>.</li><li><code>loss::Union{Nothing, Vector{F}}</code>: Loss values. Defaults to <code>nothing</code>.</li></ul><p><strong>Returns</strong></p><ul><li><code>results::Results</code>: A <code>Results</code> object containing the simulation results.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ODINN-SciML/Sleipnir.jl/blob/v0.10.6/src/simulations/results/Results.jl#L71-L130">source</a></section></article><h2 id="Plots"><a class="docs-heading-anchor" href="#Plots">Plots</a><a id="Plots-1"></a><a class="docs-heading-anchor-permalink" href="#Plots" title="Permalink"></a></h2><p>One of the main things one can do with a <code>Results</code> object, is plotting them. The main function to do so is the following one:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Sleipnir.plot_glacier" href="#Sleipnir.plot_glacier"><code>Sleipnir.plot_glacier</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_glacier(results::Results, plot_type::String, variables::Vector{Symbol}; kwargs...) -&gt; Figure</code></pre><p>Generate various types of plots for glacier data.</p><p><strong>Arguments</strong></p><ul><li><code>results::Results</code>: The results object containing the data to be plotted.</li><li><code>plot_type::String</code>: Type of plot to generate. Options are:<ul><li>&quot;heatmaps&quot;: Heatmaps for glacier variables like <code>:H</code>, <code>:H₀</code>, <code>:S</code>, <code>:B</code>, <code>:V</code>, <code>:Vx</code>, <code>:Vy</code>, <code>:V_ref</code>.</li><li>&quot;evolution difference&quot;: Temporal difference metrics (between start and end) for a variable, with optional metrics like &quot;hist&quot; (histogram) and &quot;difference&quot;.</li><li>&quot;evolution statistics&quot;: Temporal statistical metrics for a variable, with optional metrics like &quot;average&quot;, &quot;median&quot;, &quot;min&quot;, &quot;max&quot;, and &quot;std&quot;.</li><li>&quot;integrated volume&quot;: Temporal evolution of the integrated ice volume for a variable.</li><li>&quot;bias&quot;: Scatter plot to visualize the bias between two variables.</li></ul></li><li><code>variables::Vector{Symbol}</code>: Variables to be plotted, e.g., <code>:H</code>.</li></ul><p><strong>Optional Keyword Arguments</strong></p><ul><li><code>tspan</code>: A tuple representing the start and end time for the simulation.</li><li><code>metrics</code>: Metrics to visualize, e.g., <code>[&quot;average&quot;]</code> for statistics, <code>[&quot;difference&quot;]</code> for difference.</li><li><code>scale_text_size::Union{Nothing,Float64}</code>: Optional argument to scale the text size for heatmaps.</li><li><code>threshold::Vector{F}</code>: Threshold values for filtering data in bias plots.</li><li><code>figsize::Tuple{Int64, Int64}</code>: Size of the figure.</li></ul><p><strong>Returns</strong></p><ul><li>A <code>Figure</code> object containing the desired visualization.</li></ul><p><strong>Notes</strong></p><ul><li>Ensure the <code>variables</code> and <code>kwargs</code> match the requirements of the specified <code>plot_type</code>.</li><li>The function routes requests to specific plotting functions based on <code>plot_type</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ODINN-SciML/Sleipnir.jl/blob/v0.10.6/src/simulations/results/results_plotting_utils.jl#L669-L697">source</a></section></article><p>Another option is to generate a video of the evolution of the glacier&#39;s ice thickness during the simulation:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Sleipnir.plot_glacier_vid" href="#Sleipnir.plot_glacier_vid"><code>Sleipnir.plot_glacier_vid</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_glacier_vid(
    plot_type::String,
    H::Vector{Matrix{Float64}},
    glacier::Glacier2D,
    simuparams::SimulationParameters,
    pathVideo::String;
    framerate::Int=24,
    baseTitle::String=&quot;&quot;
)</code></pre><p>Generate various types of videos for glacier data. For now only the evolution of the glacier ice thickness is supported. More types of visualizations will be added in the future. </p><p><strong>Arguments</strong></p><ul><li><code>plot_type</code>: Type of plot to generate. Options are:<ul><li>&quot;thickness&quot;: Heatmap of the glacier thickness.</li></ul></li><li><code>H</code>: A vector of matrices containing the ice thickness over time. This should be   replaced by a Results instance in the future once Results no longer depends on   an iceflow model.</li><li><code>glacier</code>: A glacier instance.</li><li><code>simuparams</code>: The simulation parameters.</li><li><code>pathVideo</code>: Path of the mp4 file to generate.</li></ul><p><strong>Optional Keyword Arguments</strong></p><ul><li><code>framerate</code>: The framerate to use for the video generation.</li><li><code>baseTitle</code>: The prefix to use in the title of the frames. In each frame it is   concatenated with the value of the year in the form &quot; (t=XXXX)&quot;.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ODINN-SciML/Sleipnir.jl/blob/v0.10.6/src/simulations/results/results_plotting_video_utils.jl#L69-L96">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../models/">« Models</a><a class="docs-footer-nextpage" href="../api/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 24 September 2025 18:26">Wednesday 24 September 2025</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
